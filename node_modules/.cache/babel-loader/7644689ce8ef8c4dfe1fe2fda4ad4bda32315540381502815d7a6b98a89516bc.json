{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport * as faceapi from \"face-api.js\";\nimport { Fingerprint, Eye } from \"lucide-vue-next\";\nexport default defineComponent({\n  components: {\n    Fingerprint,\n    Eye\n  },\n  setup() {\n    const videoRef = ref(null);\n    const message = ref(\"\");\n    const faceDetected = ref(false);\n\n    // Load face-api.js models\n    const loadFaceModels = async () => {\n      const MODEL_URL = \"/models\";\n      await Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL), faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL), faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL), faceapi.nets.ssdMobilenetv1.loadFromUri(MODEL_URL)]);\n    };\n\n    // Start webcam feed\n    const startVideo = () => {\n      navigator.mediaDevices.getUserMedia({\n        video: true\n      }).then(stream => {\n        if (videoRef.value) videoRef.value.srcObject = stream;\n      }).catch(err => {\n        console.error(\"Error accessing webcam:\", err);\n      });\n    };\n\n    // Detect face in the video stream\n    const detectFace = async () => {\n      const options = new faceapi.TinyFaceDetectorOptions();\n      const detections = await faceapi.detectAllFaces(videoRef.value, options);\n      if (detections.length > 0) {\n        message.value = \"✅ Face recognized!\";\n        faceDetected.value = true;\n      } else {\n        message.value = \"❌ No face detected!\";\n        faceDetected.value = false;\n      }\n    };\n\n    // Fingerprint authentication via WebAuthn\n    const authenticateFingerprint = async () => {\n      try {\n        const publicKey = {\n          challenge: new Uint8Array(32),\n          allowCredentials: [{\n            type: \"public-key\",\n            id: new Uint8Array(16)\n          }],\n          timeout: 60000\n        };\n        await navigator.credentials.get({\n          publicKey\n        });\n        message.value = \"✅ Fingerprint authenticated!\";\n      } catch (error) {\n        message.value = \"❌ Fingerprint authentication failed!\";\n      }\n    };\n    onMounted(async () => {\n      await loadFaceModels();\n      startVideo();\n    });\n    return {\n      videoRef,\n      message,\n      detectFace,\n      authenticateFingerprint,\n      faceDetected\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","onMounted","ref","faceapi","Fingerprint","Eye","components","setup","videoRef","message","faceDetected","loadFaceModels","MODEL_URL","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","ssdMobilenetv1","startVideo","navigator","mediaDevices","getUserMedia","video","then","stream","value","srcObject","catch","err","console","error","detectFace","options","TinyFaceDetectorOptions","detections","detectAllFaces","length","authenticateFingerprint","publicKey","challenge","Uint8Array","allowCredentials","type","id","timeout","credentials","get"],"sources":["/home/r3dh4t/Projects/FYP/Yes/secure_biometrics/src/components/AuthPage.vue"],"sourcesContent":["<template>\n  <div class=\"biometric-auth\">\n    <h2 class=\"title\">Biometric Authentication</h2>\n\n    <div class=\"video-container\">\n      <video ref=\"videoRef\" autoplay playsinline></video>\n    </div>\n\n    <div class=\"buttons\">\n      <button @click=\"detectFace\" class=\"auth-btn\">\n        <Eye size=\"20\" /> Authenticate Face\n      </button>\n      <button @click=\"authenticateFingerprint\" class=\"auth-btn\">\n        <Fingerprint size=\"20\" /> Authenticate Fingerprint\n      </button>\n    </div>\n\n    <p class=\"message\" :class=\"{ success: faceDetected, error: !faceDetected }\">\n      {{ message }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport * as faceapi from \"face-api.js\";\nimport { Fingerprint, Eye } from \"lucide-vue-next\";\n\nexport default defineComponent({\n  components: {\n    Fingerprint,\n    Eye,\n  },\n  setup() {\n    const videoRef = ref(null);\n    const message = ref(\"\");\n    const faceDetected = ref(false);\n\n    // Load face-api.js models\n    const loadFaceModels = async () => {\n      const MODEL_URL = \"/models\";\n      await Promise.all([\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\n        faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\n        faceapi.nets.ssdMobilenetv1.loadFromUri(MODEL_URL),\n      ]);\n    };\n\n    // Start webcam feed\n    const startVideo = () => {\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then((stream) => {\n          if (videoRef.value) videoRef.value.srcObject = stream;\n        })\n        .catch((err) => {\n          console.error(\"Error accessing webcam:\", err);\n        });\n    };\n\n    // Detect face in the video stream\n    const detectFace = async () => {\n      const options = new faceapi.TinyFaceDetectorOptions();\n      const detections = await faceapi.detectAllFaces(videoRef.value, options);\n\n      if (detections.length > 0) {\n        message.value = \"✅ Face recognized!\";\n        faceDetected.value = true;\n      } else {\n        message.value = \"❌ No face detected!\";\n        faceDetected.value = false;\n      }\n    };\n\n    // Fingerprint authentication via WebAuthn\n    const authenticateFingerprint = async () => {\n      try {\n        const publicKey = {\n          challenge: new Uint8Array(32),\n          allowCredentials: [{ type: \"public-key\", id: new Uint8Array(16) }],\n          timeout: 60000,\n        };\n        await navigator.credentials.get({ publicKey });\n        message.value = \"✅ Fingerprint authenticated!\";\n      } catch (error) {\n        message.value = \"❌ Fingerprint authentication failed!\";\n      }\n    };\n\n    onMounted(async () => {\n      await loadFaceModels();\n      startVideo();\n    });\n\n    return {\n      videoRef,\n      message,\n      detectFace,\n      authenticateFingerprint,\n      faceDetected,\n    };\n  },\n});\n</script>\n\n<style scoped>\n.biometric-auth {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  text-align: center;\n}\n\n.title {\n  font-size: 1.5rem;\n  margin-bottom: 10px;\n}\n\n.video-container {\n  border: 2px solid #ccc;\n  border-radius: 10px;\n  overflow: hidden;\n  width: 300px;\n  height: 200px;\n  margin-bottom: 10px;\n}\n\nvideo {\n  width: 100%;\n  height: 100%;\n}\n\n.buttons {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.auth-btn {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background 0.3s;\n}\n\n.auth-btn:hover {\n  background-color: #0056b3;\n}\n\n.message {\n  margin-top: 15px;\n  font-weight: bold;\n}\n\n.success {\n  color: green;\n}\n\n.error {\n  color: red;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}